"use strict";(globalThis.webpackChunkcrow_b3_public_docs=globalThis.webpackChunkcrow_b3_public_docs||[]).push([[709],{2077:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"cloudflare-workers-containers-python-template","title":"Cloudflare Workers Containers Python Template","description":"A template for creating Cloudflare Workers applications using Python and Cloudflare Workers Containers.","source":"@site/docs/cloudflare-workers-containers-python-template.md","sourceDirName":".","slug":"/cloudflare-workers-containers-python-template","permalink":"/cloudflare-workers-containers-python-template","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Cloudflare Workers Containers Hono Template","permalink":"/cloudflare-workers-containers-hono-template"},"next":{"title":"NPM SDK Template","permalink":"/npm-sdk-template"}}');var l=i(4848),s=i(8453);const t={},o="Cloudflare Workers Containers Python Template",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation",id:"installation",level:3},{value:"Setup",id:"setup",level:3},{value:"Development",id:"development",level:3},{value:"Local Development",id:"local-development",level:3},{value:"Deployment",id:"deployment",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"API Backends",id:"api-backends",level:3},{value:"Data Processing",id:"data-processing",level:3},{value:"Web Applications",id:"web-applications",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Workers Containers",id:"workers-containers",level:3},{value:"Benefits",id:"benefits",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Wrangler Configuration",id:"wrangler-configuration",level:3},{value:"Docker Configuration",id:"docker-configuration",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Performance Optimization",id:"performance-optimization",level:3},{value:"Security",id:"security",level:3},{value:"Limitations",id:"limitations",level:2},{value:"Resources",id:"resources",level:2},{value:"Support",id:"support",level:2},{value:"Contributing",id:"contributing",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"cloudflare-workers-containers-python-template",children:"Cloudflare Workers Containers Python Template"})}),"\n",(0,l.jsx)(n.p,{children:"A template for creating Cloudflare Workers applications using Python and Cloudflare Workers Containers."}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"This template enables you to build and deploy Python applications on Cloudflare's edge network using Workers Containers. It combines the flexibility of Python with the performance and global distribution of Cloudflare Workers."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\ud83d\udc0d Python runtime support on Cloudflare Workers"}),"\n",(0,l.jsx)(n.li,{children:"\ud83d\udc33 Containerized Python applications at the edge"}),"\n",(0,l.jsx)(n.li,{children:"\ud83c\udf0d Global edge deployment with low latency"}),"\n",(0,l.jsx)(n.li,{children:"\u26a1 Serverless scaling and execution"}),"\n",(0,l.jsx)(n.li,{children:"\ud83d\udd27 Easy to configure and deploy"}),"\n",(0,l.jsx)(n.li,{children:"\ud83d\ude80 Fast cold starts with container optimization"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,l.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Python 3.x"}),"\n",(0,l.jsx)(n.li,{children:"Docker (for building containers)"}),"\n",(0,l.jsx)(n.li,{children:"Cloudflare account"}),"\n",(0,l.jsx)(n.li,{children:"Wrangler CLI"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,l.jsx)(n.p,{children:"Clone the template:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/CROW-B3/cloudflare-workers-containers-python-template.git\ncd cloudflare-workers-containers-python-template\n"})}),"\n",(0,l.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Install Python dependencies:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:["Configure your Cloudflare credentials in ",(0,l.jsx)(n.code,{children:"wrangler.toml"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,l.jsx)(n.p,{children:"The template is designed to work with Cloudflare Workers Containers, allowing you to:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Develop your Python application locally"}),"\n",(0,l.jsx)(n.li,{children:"Build a Docker container for your application"}),"\n",(0,l.jsx)(n.li,{children:"Deploy the container to Cloudflare's edge network"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"local-development",children:"Local Development"}),"\n",(0,l.jsx)(n.p,{children:"Test your Python application locally:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"python app.py\n"})}),"\n",(0,l.jsx)(n.h3,{id:"deployment",children:"Deployment"}),"\n",(0,l.jsx)(n.p,{children:"Deploy your Python application to Cloudflare Workers:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"wrangler deploy\n"})}),"\n",(0,l.jsx)(n.p,{children:"This will:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Build your Python container"}),"\n",(0,l.jsx)(n.li,{children:"Push it to Cloudflare"}),"\n",(0,l.jsx)(n.li,{children:"Deploy it globally to the edge network"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,l.jsx)(n.h3,{id:"api-backends",children:"API Backends"}),"\n",(0,l.jsx)(n.p,{children:"Build fast, globally distributed API backends with Python:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"REST APIs"}),"\n",(0,l.jsx)(n.li,{children:"GraphQL endpoints"}),"\n",(0,l.jsx)(n.li,{children:"Microservices"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"data-processing",children:"Data Processing"}),"\n",(0,l.jsx)(n.p,{children:"Process data at the edge with Python:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Data transformation"}),"\n",(0,l.jsx)(n.li,{children:"Image processing"}),"\n",(0,l.jsx)(n.li,{children:"Text analysis"}),"\n",(0,l.jsx)(n.li,{children:"Machine learning inference"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"web-applications",children:"Web Applications"}),"\n",(0,l.jsx)(n.p,{children:"Deploy full Python web applications:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Flask applications"}),"\n",(0,l.jsx)(n.li,{children:"FastAPI services"}),"\n",(0,l.jsx)(n.li,{children:"Django projects (with appropriate optimization)"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,l.jsx)(n.h3,{id:"workers-containers",children:"Workers Containers"}),"\n",(0,l.jsx)(n.p,{children:"Workers Containers allow you to run Python code in a containerized environment at the edge:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Container Build"}),": Your Python app is packaged in a Docker container"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Edge Distribution"}),": The container is distributed to Cloudflare's global network"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Request Handling"}),": Incoming requests are routed to the nearest edge location"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Python Execution"}),": Your Python code executes in the container at the edge"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"benefits",children:"Benefits"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Low Latency"}),": Code runs close to users worldwide"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Scalability"}),": Automatic scaling based on demand"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Cost-Effective"}),": Pay only for execution time"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Flexibility"}),": Use any Python libraries and frameworks"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"wrangler-configuration",children:"Wrangler Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Configure your worker in ",(0,l.jsx)(n.code,{children:"wrangler.toml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-toml",children:'name = "python-worker"\ncompatibility_date = "2024-01-01"\n\n[build]\ncommand = "docker build -t python-worker ."\n'})}),"\n",(0,l.jsx)(n.h3,{id:"docker-configuration",children:"Docker Configuration"}),"\n",(0,l.jsxs)(n.p,{children:["Create a ",(0,l.jsx)(n.code,{children:"Dockerfile"})," for your Python application:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'FROM python:3.11-slim\n\nWORKDIR /app\nCOPY requirements.txt .\nRUN pip install -r requirements.txt\n\nCOPY . .\n\nCMD ["python", "app.py"]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Minimize Container Size"}),": Use slim Python images and only essential dependencies"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Optimize Cold Starts"}),": Keep initialization code minimal"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Cache Dependencies"}),": Use Docker layer caching effectively"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Async Operations"}),": Use async/await for I/O operations"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Environment Variables"}),": Store secrets in Cloudflare Worker environment variables"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Input Validation"}),": Validate all incoming data"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Dependencies"}),": Keep Python packages up to date"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Container Scanning"}),": Regularly scan containers for vulnerabilities"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,l.jsx)(n.p,{children:"Be aware of Cloudflare Workers Containers limitations:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"CPU Time"}),": Limited execution time per request"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Memory"}),": Memory constraints for containers"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"File System"}),": Ephemeral file system"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Cold Starts"}),": Initial container startup time"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Repository"}),": ",(0,l.jsx)(n.a,{href:"https://github.com/CROW-B3/cloudflare-workers-containers-python-template",children:"GitHub"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Cloudflare Workers Containers Docs"}),": ",(0,l.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/",children:"developers.cloudflare.com"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Python Documentation"}),": ",(0,l.jsx)(n.a,{href:"https://www.python.org/",children:"python.org"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Wrangler CLI"}),": ",(0,l.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/wrangler/",children:"developers.cloudflare.com/workers/wrangler"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,l.jsx)(n.p,{children:"For issues and questions:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Check the ",(0,l.jsx)(n.a,{href:"https://github.com/CROW-B3/cloudflare-workers-containers-python-template/issues",children:"GitHub Issues"})]}),"\n",(0,l.jsx)(n.li,{children:"Review Cloudflare Workers documentation"}),"\n",(0,l.jsx)(n.li,{children:"Join the CROW-B3 community"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,l.jsx)(n.p,{children:"Contributions are welcome! Please:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Fork the repository"}),"\n",(0,l.jsx)(n.li,{children:"Create a feature branch"}),"\n",(0,l.jsx)(n.li,{children:"Make your changes"}),"\n",(0,l.jsx)(n.li,{children:"Submit a pull request"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var r=i(6540);const l={},s=r.createContext(l);function t(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);