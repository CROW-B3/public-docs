"use strict";(globalThis.webpackChunkcrow_b3_public_docs=globalThis.webpackChunkcrow_b3_public_docs||[]).push([[596],{6064:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"cloudflare-opennext-nextjs-template","title":"Cloudflare OpenNext.js Template","description":"A template for deploying Next.js applications on Cloudflare using OpenNext.js adapter.","source":"@site/docs/cloudflare-opennext-nextjs-template.md","sourceDirName":".","slug":"/cloudflare-opennext-nextjs-template","permalink":"/cloudflare-opennext-nextjs-template","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"CROW Public Documentation","permalink":"/"},"next":{"title":"Cloudflare Workers Containers Hono Template","permalink":"/cloudflare-workers-containers-hono-template"}}');var r=l(4848),s=l(8453);const t={},d="Cloudflare OpenNext.js Template",o={},a=[{value:"Overview",id:"overview",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Installation",id:"installation",level:3},{value:"Development",id:"development",level:3},{value:"Deployment",id:"deployment",level:2},{value:"Build and Deploy",id:"build-and-deploy",level:3},{value:"Build Only",id:"build-only",level:3},{value:"Upload Only",id:"upload-only",level:3},{value:"Preview",id:"preview",level:3},{value:"Available Scripts",id:"available-scripts",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Key Technologies",id:"key-technologies",level:2},{value:"Next.js 15",id:"nextjs-15",level:3},{value:"OpenNext.js for Cloudflare",id:"opennextjs-for-cloudflare",level:3},{value:"Tailwind CSS v4",id:"tailwind-css-v4",level:3},{value:"React 19",id:"react-19",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Next.js Configuration",id:"nextjs-configuration",level:3},{value:"Cloudflare Workers Configuration",id:"cloudflare-workers-configuration",level:3},{value:"Tailwind CSS Configuration",id:"tailwind-css-configuration",level:3},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Features",id:"features",level:2},{value:"Edge Rendering",id:"edge-rendering",level:3},{value:"Static Optimization",id:"static-optimization",level:3},{value:"Incremental Static Regeneration (ISR)",id:"incremental-static-regeneration-isr",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Performance",id:"performance",level:3},{value:"Development",id:"development-1",level:3},{value:"Limitations",id:"limitations",level:2},{value:"Resources",id:"resources",level:2},{value:"Support",id:"support",level:2},{value:"Contributing",id:"contributing",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cloudflare-opennextjs-template",children:"Cloudflare OpenNext.js Template"})}),"\n",(0,r.jsx)(n.p,{children:"A template for deploying Next.js applications on Cloudflare using OpenNext.js adapter."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This template enables you to deploy Next.js applications on Cloudflare's edge network using the OpenNext.js Cloudflare adapter. It provides a seamless way to run your Next.js apps with Cloudflare's global infrastructure, combining Next.js's powerful features with Cloudflare's edge computing capabilities."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u26a1 Next.js 15+ support with App Router"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udf10 Deploy to Cloudflare's global edge network"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa8 Tailwind CSS v4 pre-configured"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd37 Full TypeScript support"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\ude80 Edge rendering and static optimization"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udce6 OpenNext.js adapter for Cloudflare"}),"\n",(0,r.jsx)(n.li,{children:"\u269b\ufe0f React 19 compatibility"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd27 Wrangler CLI integration"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Node.js 20.0 or later"}),"\n",(0,r.jsx)(n.li,{children:"Cloudflare account"}),"\n",(0,r.jsx)(n.li,{children:"Wrangler CLI"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"Clone the template:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/CROW-B3/cloudflare-opennext-nextjs-template.git\ncd cloudflare-opennext-nextjs-template\n"})}),"\n",(0,r.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install\n# or\npnpm install\n# or\nbun install\n"})}),"\n",(0,r.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,r.jsx)(n.p,{children:"Start the Next.js development server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run dev\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will start the Next.js development server with Turbopack for fast hot module replacement."}),"\n",(0,r.jsxs)(n.p,{children:["Visit ",(0,r.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," to see your application."]}),"\n",(0,r.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,r.jsx)(n.h3,{id:"build-and-deploy",children:"Build and Deploy"}),"\n",(0,r.jsx)(n.p,{children:"Build and deploy your Next.js app to Cloudflare:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run deploy\n"})}),"\n",(0,r.jsx)(n.p,{children:"This command will:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Build your Next.js application"}),"\n",(0,r.jsx)(n.li,{children:"Run the OpenNext.js Cloudflare adapter"}),"\n",(0,r.jsx)(n.li,{children:"Deploy to Cloudflare Workers"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-only",children:"Build Only"}),"\n",(0,r.jsx)(n.p,{children:"To build without deploying:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,r.jsx)(n.h3,{id:"upload-only",children:"Upload Only"}),"\n",(0,r.jsx)(n.p,{children:"To upload a previously built application:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run upload\n"})}),"\n",(0,r.jsx)(n.h3,{id:"preview",children:"Preview"}),"\n",(0,r.jsx)(n.p,{children:"Preview your deployment locally before publishing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run preview\n"})}),"\n",(0,r.jsx)(n.h2,{id:"available-scripts",children:"Available Scripts"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Development\nnpm run dev              # Start Next.js dev server with Turbopack\n\n# Production Build\nnpm run build            # Build Next.js app and OpenNext.js adapter\nnpm run start            # Start production Next.js server (local)\n\n# Cloudflare Deployment\nnpm run deploy           # Build and deploy to Cloudflare\nnpm run upload           # Upload built app to Cloudflare\nnpm run preview          # Preview deployment locally\n\n# Development Tools\nnpm run lint             # Run Next.js linting\nnpm run cf-typegen       # Generate Cloudflare binding types\n"})}),"\n",(0,r.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:".\n\u251c\u2500\u2500 app/                 # Next.js App Router directory\n\u251c\u2500\u2500 public/              # Static assets\n\u251c\u2500\u2500 cloudflare-env.d.ts  # Cloudflare environment types\n\u251c\u2500\u2500 next.config.js       # Next.js configuration\n\u251c\u2500\u2500 tailwind.config.js   # Tailwind CSS configuration\n\u251c\u2500\u2500 wrangler.toml        # Cloudflare Workers configuration\n\u2514\u2500\u2500 package.json         # Project dependencies\n"})}),"\n",(0,r.jsx)(n.h2,{id:"key-technologies",children:"Key Technologies"}),"\n",(0,r.jsx)(n.h3,{id:"nextjs-15",children:"Next.js 15"}),"\n",(0,r.jsx)(n.p,{children:"The latest version of Next.js with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"App Router for modern routing"}),"\n",(0,r.jsx)(n.li,{children:"Server Components"}),"\n",(0,r.jsx)(n.li,{children:"Streaming and Suspense"}),"\n",(0,r.jsx)(n.li,{children:"Improved performance and developer experience"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"opennextjs-for-cloudflare",children:"OpenNext.js for Cloudflare"}),"\n",(0,r.jsx)(n.p,{children:"The OpenNext.js adapter enables Next.js deployment on Cloudflare:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Converts Next.js build output for Cloudflare Workers"}),"\n",(0,r.jsx)(n.li,{children:"Handles edge runtime compatibility"}),"\n",(0,r.jsx)(n.li,{children:"Optimizes for Cloudflare's infrastructure"}),"\n",(0,r.jsx)(n.li,{children:"Supports ISR, SSR, and SSG"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"tailwind-css-v4",children:"Tailwind CSS v4"}),"\n",(0,r.jsx)(n.p,{children:"Pre-configured with the latest Tailwind CSS:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Utility-first CSS framework"}),"\n",(0,r.jsx)(n.li,{children:"PostCSS integration"}),"\n",(0,r.jsx)(n.li,{children:"Modern design system"}),"\n",(0,r.jsx)(n.li,{children:"Responsive design utilities"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"react-19",children:"React 19"}),"\n",(0,r.jsx)(n.p,{children:"Built with React 19 for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Latest React features"}),"\n",(0,r.jsx)(n.li,{children:"Improved performance"}),"\n",(0,r.jsx)(n.li,{children:"Better developer experience"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"nextjs-configuration",children:"Next.js Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Configure Next.js in ",(0,r.jsx)(n.code,{children:"next.config.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"export default {\n  // Your Next.js configuration\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cloudflare-workers-configuration",children:"Cloudflare Workers Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Configure Cloudflare Workers in ",(0,r.jsx)(n.code,{children:"wrangler.toml"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'name = "nextjs-app"\ncompatibility_date = "2024-01-01"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"tailwind-css-configuration",children:"Tailwind CSS Configuration"}),"\n",(0,r.jsx)(n.p,{children:"The template includes Tailwind CSS v4 with PostCSS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// postcss.config.js\nexport default {\n  plugins: {\n    '@tailwindcss/postcss': {},\n  },\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"Set environment variables for Cloudflare:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"wrangler secret put VARIABLE_NAME\n"})}),"\n",(0,r.jsx)(n.p,{children:"Generate TypeScript types for your environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run cf-typegen\n"})}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsx)(n.h3,{id:"edge-rendering",children:"Edge Rendering"}),"\n",(0,r.jsx)(n.p,{children:"Your Next.js app runs on Cloudflare's global edge network:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Low latency worldwide"}),"\n",(0,r.jsx)(n.li,{children:"Automatic geographic distribution"}),"\n",(0,r.jsx)(n.li,{children:"Edge-side rendering for dynamic content"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"static-optimization",children:"Static Optimization"}),"\n",(0,r.jsx)(n.p,{children:"Static pages are optimized and cached:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Fast page loads"}),"\n",(0,r.jsx)(n.li,{children:"Reduced server costs"}),"\n",(0,r.jsx)(n.li,{children:"Global CDN distribution"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"incremental-static-regeneration-isr",children:"Incremental Static Regeneration (ISR)"}),"\n",(0,r.jsx)(n.p,{children:"Update static content without rebuilding:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Background revalidation"}),"\n",(0,r.jsx)(n.li,{children:"Stale-while-revalidate pattern"}),"\n",(0,r.jsx)(n.li,{children:"Efficient content updates"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Static Generation"}),": Pre-render pages when possible"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Optimize Images"}),": Use Next.js Image component"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Edge Caching"}),": Leverage Cloudflare's caching"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Code Splitting"}),": Automatic with Next.js App Router"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"development-1",children:"Development"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type Safety"}),": Use TypeScript throughout your app"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Linting"}),": Run ",(0,r.jsx)(n.code,{children:"npm run lint"})," regularly"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Test locally with ",(0,r.jsx)(n.code,{children:"npm run preview"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environment Variables"}),": Use Cloudflare secrets for sensitive data"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,r.jsx)(n.p,{children:"Be aware of Cloudflare Workers limitations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Execution Time"}),": Limited CPU time per request"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Memory"}),": Memory constraints for Workers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bundle Size"}),": Maximum script size limitations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cold Starts"}),": Initial startup time considerations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Repository"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/CROW-B3/cloudflare-opennext-nextjs-template",children:"GitHub"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Next.js Documentation"}),": ",(0,r.jsx)(n.a,{href:"https://nextjs.org/",children:"nextjs.org"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OpenNext.js"}),": ",(0,r.jsx)(n.a,{href:"https://opennextjs.dev/",children:"opennextjs.dev"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cloudflare Workers Docs"}),": ",(0,r.jsx)(n.a,{href:"https://developers.cloudflare.com/workers/",children:"developers.cloudflare.com"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tailwind CSS"}),": ",(0,r.jsx)(n.a,{href:"https://tailwindcss.com/",children:"tailwindcss.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,r.jsx)(n.p,{children:"For issues and questions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check the ",(0,r.jsx)(n.a,{href:"https://github.com/CROW-B3/cloudflare-opennext-nextjs-template/issues",children:"GitHub Issues"})]}),"\n",(0,r.jsx)(n.li,{children:"Review Next.js documentation"}),"\n",(0,r.jsx)(n.li,{children:"Check OpenNext.js documentation"}),"\n",(0,r.jsx)(n.li,{children:"Join the CROW-B3 community"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,r.jsx)(n.p,{children:"Contributions are welcome! Please:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Fork the repository"}),"\n",(0,r.jsx)(n.li,{children:"Create a feature branch"}),"\n",(0,r.jsx)(n.li,{children:"Make your changes"}),"\n",(0,r.jsx)(n.li,{children:"Submit a pull request"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>d});var i=l(6540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);